---
title: "é–‹ç™ºã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«ã™ã‚‹ç§ã®tmuxè¨­å®šã¨ä½¿ã„æ–¹"
emoji: "ğŸŒŠ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["tmux", "terminal", "alacritty", "zsh"]
published: false
---

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ã®é–‹ç™ºã«ãŠã„ã¦ã€tmuxã¯ç§ã«ã¨ã£ã¦æ¬ ã‹ã›ãªã„ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

ã“ã®è¨˜äº‹ã§ã¯ã€ç§ãŒæ™®æ®µã©ã®ã‚ˆã†ãªè¨­å®šã‚’æ–½ã—ã€ã©ã®ã‚ˆã†ã«tmuxã‚’ä½¿ã„ã“ãªã—ã¦å¿«é©ãªé–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã—ã¦ã„ã‚‹ã‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

ã¾ãšã¯ã€ãƒ™ãƒ¼ã‚¹ã¨ãªã£ã¦ã„ã‚‹ `tmux.conf` ã®å…¨ä½“åƒã§ã™ã€‚

```text
set -g prefix C-q
unbind C-b

# window ã®ç§»å‹•ã‚’Option + h,l
# window ã®ä½œæˆã‚’Option + n
# window ã®ä¸¦ã³æ›¿ãˆã‚’Shift + Option + n
bind -n M-l next-window
bind -n M-h previous-window
bind -n M-n new-window -c "#{pane_current_path}"
bind -n M-\' "swap-window -t +1 \; select-window -t +1"
bind -n M-\; "swap-window -t -1 \; select-window -t -1"

# pane ã®åˆ†å‰²
bind -n M-v split-window -h -c "#{pane_current_path}"
bind -n M-s split-window -v -c "#{pane_current_path}"

# å…¨ãƒšã‚¤ãƒ³ã«é€ä¿¡
bind e setw synchronize-panes on
bind E setw synchronize-panes off

# å¤–è¦³
## åˆ©ç”¨ã§ãã‚‹è‰²ä¸€è¦§ã‚’èª¿ã¹ã‚‹ã‚³ãƒãƒ³ãƒ‰
## for i in {0..255}; do printf "\x1b[38;5;${i}mcolour${i}\x1b[0m\n"; done | column -x

## Alacrittyã§true colorã«ã™ã‚‹(https://github.com/alacritty/alacritty/issues/109)
set -g default-terminal "xterm-256color"
set-option -sa terminal-overrides ',alacritty:RGB'

## deltaã§true colorã‚’æœ‰åŠ¹ã«ã™ã‚‹(https://dandavison.github.io/delta/using-delta-with-tmux.html)
set -ga terminal-overrides ",xterm-256color:Tc"



# popupã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹
bind g popup -w90% -h90% -d '#{pane_current_path}' -E 'tig'
bind C-p popup -w90% -h90% -d '#{pane_current_path}' -E 'pet search | pbcopy'
bind t popup -w90% -h90% -d '#{pane_current_path}' -E 'fzf | pbcopy'


# List of plugins
%hidden TMUX_DATA_HOME='~/.local/share/tmux'
%hidden TMUX_PLUGIN_MANAGER_PATH='#{TMUX_DATA_HOME}/plugins'
set-environment -g TMUX_PLUGIN_MANAGER_PATH '~/.local/share/tmux/plugins'
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-open'
set -g @plugin 'tmux-plugins/tmux-copycat'

# https://github.com/sainnhe/tmux-fzf prefix + F (Shift+F).
TMUX_FZF_LAUNCH_KEY="C-f"
set -g @plugin 'sainnhe/tmux-fzf'
bind f run-shell -b "#{TMUX_PLUGIN_MANAGER_PATH}/tmux-fzf/scripts/window.sh switch"

set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @resurrect-dir '~/.local/share/tmux/resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @continuum-save-interval '15'
set -g @continuum-restore 'on'

# tmuxã®windowåã‚’ã€git repositoryã«ã™ã‚‹
set -g @plugin "ikorihn/tmux-rename-window-project"

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
if "test ! -d #{TMUX_PLUGIN_MANAGER_PATH}/tpm" \
   "run 'git clone https://github.com/tmux-plugins/tpm #{TMUX_PLUGIN_MANAGER_PATH}/tpm && #{TMUX_PLUGIN_MANAGER_PATH}/tpm/bin/install_plugins'"
run-shell "#{TMUX_PLUGIN_MANAGER_PATH}/tpm/tpm"
```

---

## é–‹ç™ºã‚’å¿«é©ã«ã™ã‚‹ãŸã‚ã®ãƒã‚¤ãƒ³ãƒˆ

### 1. Prefixã‚’ `C-q` ã«ã—ã¦å·¦æ‰‹ã®è² æ‹…ã‚’æ¸›ã‚‰ã™
ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã® `C-b` ã¯ç§ã®æ‰‹ã«ã¯å°‘ã—é ã„ãŸã‚ã€ãƒ›ãƒ¼ãƒ ãƒã‚¸ã‚·ãƒ§ãƒ³ã‹ã‚‰æœ€å°é™ã®å‹•ãã§æŠ¼ã›ã‚‹ `C-q` ã‚’Prefixã«ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã ã‘ã§æ“ä½œã®ãƒ†ãƒ³ãƒãŒä¸€æ®µä¸ŠãŒã‚Šã¾ã™ã€‚

### 2. Optionã‚­ãƒ¼ã‚’ãƒ•ãƒ«æ´»ç”¨ã—ãŸWindowæ“ä½œ
Prefixã‚­ãƒ¼ï¼ˆ`C-q`ï¼‰ã‚’æŠ¼ã—ã¦ã‹ã‚‰ã‚­ãƒ¼ã‚’å©ãã€ã¨ã„ã†2ã‚¹ãƒ†ãƒƒãƒ—ã®æ“ä½œã‚’æ¸›ã‚‰ã™ãŸã‚ã€Windowã®ç§»å‹•ã‚„ä½œæˆã«ã¯ `Option (Meta)` ã‚­ãƒ¼ã¨ã®çµ„ã¿åˆã‚ã›ã‚’å‰²ã‚Šå½“ã¦ã¦ã„ã¾ã™ã€‚

- `Option + l / h`: å‰å¾Œã®Windowã¸ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¿ãƒ–ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚ˆã†ãªæ„Ÿè¦šã§ç§»å‹•ã§ãã¾ã™ã€‚
- `Option + n`: æ–°ã—ã„Windowã‚’ã€ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ç¶­æŒã—ãŸã¾ã¾é–‹ãã¾ã™ã€‚

ã“ã®ã€ŒPrefixã‚’ä»‹ã•ãªã„æ“ä½œã€ã‚’å¢—ã‚„ã™ã“ã¨ã§ã€æ€è€ƒã‚’ä¸­æ–­ã•ã›ãšã«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…ã‚’å‹•ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

### 3. è¡¨ç¤ºã®ç¾ã—ã•ã¨è¦–èªæ€§
ç§ã¯ Alacritty ã‚’ãƒ¡ã‚¤ãƒ³ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã¨ã—ã¦åˆ©ç”¨ã—ã¦ãŠã‚Šã€tmux è¶Šã—ã§ã‚‚ `delta` ãªã©ã®ãƒ„ãƒ¼ãƒ«ãŒæŒã¤æœ¬æ¥ã®è‰²å‘³ï¼ˆTrue Colorï¼‰ã‚’è¡¨ç¤ºã§ãã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚
è¦–è¦šçš„ãªã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ¸›ã‚‰ã™ã“ã¨ã‚‚ã€é•·æ™‚é–“é–‹ç™ºã‚’ç¶šã‘ã‚‹ä¸Šã§ã¯é‡è¦ãªè¦ç´ ã ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚

### 4. Popupæ©Ÿèƒ½ã‚’ã€Œä¸€æ™‚çš„ãªãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—ã€ã«ä½¿ã†
tmux 3.2 ã‹ã‚‰å°å…¥ã•ã‚ŒãŸ **Popupæ©Ÿèƒ½** ã¯ã€ç§ã®é–‹ç™ºãƒ•ãƒ­ãƒ¼ã‚’å¤§ããå¤‰ãˆã¾ã—ãŸã€‚

- **`Prefix + g` (tig):** ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ããªãŒã‚‰ã€Œä»Šã®å¤‰æ›´å·®åˆ†ã‚’ç¢ºèªã—ãŸã„ã€ã€Œä¸€éƒ¨ã ã‘ã‚³ãƒŸãƒƒãƒˆã—ãŸã„ã€ã¨æ€ã£ãŸã¨ãã«ã€ç”»é¢ã‚’åˆ‡ã‚Šæ›¿ãˆãšã«ãã®å ´ã§ `tig` ã‚’å‘¼ã³å‡ºã›ã¾ã™ã€‚
- **`Prefix + C-p` / `Prefix + t`:** `pet` ã§ã‚¹ãƒ‹ãƒšãƒƒãƒˆã‚’æ¢ã—ãŸã‚Šã€`fzf` ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢ã—ãŸã‚Šã¨ã„ã£ãŸã€Œã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã€ã‚’ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã§è¡Œã„ã€çµ‚ã‚ã‚Œã°ã™ãã«å…ƒã®ã‚³ãƒ¼ãƒ‰ã«æˆ»ã‚Œã¾ã™ã€‚

ç¾åœ¨ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼ˆã‚¨ãƒ‡ã‚£ã‚¿ã®ç”»é¢ãªã©ï¼‰ã‚’ç¶­æŒã—ãŸã¾ã¾ã€åˆ¥ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ãƒ„ãƒ¼ãƒ«ã‚’æ‰±ãˆã‚‹ã®ãŒéå¸¸ã«å¼·åŠ›ã§ã™ã€‚

### 5. Windowåã§ã€Œä»Šã©ã“ã«ã„ã‚‹ã‹ã€ã‚’è¿·ã‚ãªã„
è¤‡æ•°ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åŒæ™‚ã«é€²ã‚ã¦ã„ã‚‹ã¨ã€ã€Œã©ã®WindowãŒã©ã®ãƒªãƒã‚¸ãƒˆãƒªã ã£ãŸã‹ã€ãŒåˆ†ã‹ã‚‰ãªããªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
ãã“ã§è‡ªä½œã—ãŸ [tmux-rename-window-project](https://github.com/ikorihn/tmux-rename-window-project) ã¨ã„ã†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã„ã€Windowåã‚’è‡ªå‹•çš„ã«ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®Gitãƒªãƒã‚¸ãƒˆãƒªåã«ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã§ã€Windowä¸€è¦§ã‚’è¦‹ã‚‹ã ã‘ã§ä¸€ç¬ã§ç›®çš„ã®å ´æ‰€ã«é£›ã¹ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

## ãŠã‚ã‚Šã«
tmuxã®è¨­å®šã¯ã€è‡ªåˆ†ãŒã€Œã©ã†å‹•ããŸã„ã‹ã€ã«åˆã‚ã›ã¦ç´°ã‹ãèª¿æ•´ã§ãã‚‹ã®ãŒé­…åŠ›ã§ã™ã€‚ä»Šã®ç§ã®è¨­å®šã¯ã€ã“ã®ã€Œæ€è€ƒã®é€Ÿåº¦ã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’æ“ä½œã™ã‚‹ã€ã“ã¨ã‚’ç›®æŒ‡ã—ãŸçµæœã€éå¸¸ã«ã—ã£ãã‚Šãã¦ã„ã¾ã™ã€‚

ã‚‚ã—æ°—ã«ãªã£ãŸè¨­å®šãŒã‚ã‚Œã°ã€ãœã²è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
